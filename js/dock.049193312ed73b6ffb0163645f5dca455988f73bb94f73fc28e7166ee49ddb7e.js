(()=>{(function(){"use strict";let m=0,s=!1,f=100,a=null,l=!1,c=!1,y=3e3,k=150,i=document.getElementById("dock");if(!i)return;function E(){let o=window.pageYOffset||document.documentElement.scrollTop;o<m?s=!0:s=!1,s&&o>f?(r(),n()):(!s||o<=f)&&!l&&!c&&u(),m=o}function L(o){let t=window.innerHeight;l=o.clientY>t-k,(l||c)&&r(),n()}function n(){clearTimeout(a),a=setTimeout(()=>{!c&&!l&&u()},y)}function r(){i.classList.remove("translate-y-24","opacity-0","pointer-events-none"),i.classList.add("translate-y-0","opacity-100","pointer-events-auto")}function u(){i.classList.remove("translate-y-0","opacity-100","pointer-events-auto"),i.classList.add("translate-y-24","opacity-0","pointer-events-none")}function w(o,t){let e;return function(){let d=arguments,B=this;e||(o.apply(B,d),e=!0,setTimeout(()=>e=!1,t))}}i.addEventListener("mouseenter",function(){c=!0,r(),clearTimeout(a)}),i.addEventListener("mouseleave",function(){c=!1,n()}),window.addEventListener("scroll",w(E,16)),window.addEventListener("mousemove",w(L,50)),document.addEventListener("DOMContentLoaded",function(){n()}),window.addEventListener("focus",function(){n()}),document.addEventListener("keydown",function(){r(),n()});let h=document.getElementById("dock-back");h&&h.addEventListener("click",function(o){o.preventDefault();try{if(window.history.length>1&&document.referrer){let t=new URL(document.referrer),e=new URL(window.location.href);if(t.origin===e.origin){window.history.back(),console.log("\u8FD4\u56DE\u6309\u94AE\u70B9\u51FB - \u6D4F\u89C8\u5668\u8FD4\u56DE");return}}window.location.href="/",console.log("\u8FD4\u56DE\u6309\u94AE\u70B9\u51FB - \u8DF3\u8F6C\u9996\u9875")}catch(t){console.warn("\u8FD4\u56DE\u529F\u80FD\u51FA\u9519\uFF0C\u8DF3\u8F6C\u5230\u9996\u9875:",t),window.location.href="/"}});let g=document.getElementById("dock-toc");g&&g.addEventListener("click",function(o){o.preventDefault();function t(e=5){window.TOC&&window.TOC.initialized?window.TOC.toggle():window.TOC&&!window.TOC.initialized&&e>0?setTimeout(()=>t(e-1),200):!window.TOC&&e>0&&setTimeout(()=>t(e-1),200)}t()});let v=document.getElementById("dock-search");v&&v.addEventListener("click",function(o){o.preventDefault();function t(e=5){window.Search?window.Search.show():e>0&&setTimeout(()=>t(e-1),200)}t()});let p=document.getElementById("dock-comments");p&&p.addEventListener("click",function(o){o.preventDefault();try{let t=["#comments",".comments","#giscus-container",".giscus","#disqus_thread",".disqus","#utterances",".utterances","#waline",".waline","[data-comments]",".comment-section",".post-comments"],e=null;for(let d of t)if(e=document.querySelector(d),e){console.log(`\u627E\u5230\u8BC4\u8BBA\u533A\u57DF: ${d}`);break}e?(e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),console.log("\u8BC4\u8BBA\u6309\u94AE\u70B9\u51FB - \u6EDA\u52A8\u5230\u8BC4\u8BBA\u533A\u57DF")):(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),console.log("\u8BC4\u8BBA\u6309\u94AE\u70B9\u51FB - \u672A\u627E\u5230\u8BC4\u8BBA\u533A\u57DF\uFF0C\u6EDA\u52A8\u5230\u9875\u9762\u5E95\u90E8"))}catch(t){console.warn("\u6EDA\u52A8\u5230\u8BC4\u8BBA\u533A\u57DF\u5931\u8D25:",t),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}});let T=document.getElementById("dock-top");T&&T.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),setTimeout(()=>{u(),n()},1e3),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("Dock initialized successfully - positioned at perfect center bottom")})();})();
