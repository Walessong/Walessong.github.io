(()=>{(function(){let h={maxAuroraBands:3,starsBase:60,orbsBase:4,linkDist:120,enableLinks:!1,parallax:6,fogAlphaLight:.18,fogAlphaDark:.24},n={canvas:null,ctx:null,width:0,height:0,dpr:Math.max(1,Math.min(2,window.devicePixelRatio||1)),running:!1,theme:"light",t:0,mouse:{x:.5,y:.5},bands:[],stars:[],orbs:[],reduced:window.matchMedia("(prefers-reduced-motion: reduce)").matches};function f(){return document.documentElement.classList.contains("dark")||document.body.classList.contains("dark")}let G=(function(){let t=[[1,1],[-1,1],[1,-1],[-1,-1],[1,0],[-1,0],[1,0],[-1,0],[0,1],[0,-1],[0,1],[0,-1]],r=new Uint8Array(256);for(let a=0;a<256;a++)r[a]=a;for(let a=255;a>0;a--){let l=Math.random()*(a+1)|0,c=r[a];r[a]=r[l],r[l]=c}let o=new Uint8Array(512),e=new Uint8Array(512);for(let a=0;a<512;a++)o[a]=r[a&255],e[a]=o[a]%12;let i=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6;function d(a,l){let c,p,x,q=(a+l)*i,A=Math.floor(a+q),S=Math.floor(l+q),O=(A+S)*s,K=A-O,N=S-O,g=a-K,u=l-N,M,v;g>u?(M=1,v=0):(M=0,v=1);let C=g-M+s,L=u-v+s,D=g-1+2*s,B=u-1+2*s,E=A&255,T=S&255,$=t[e[E+o[T]]],W=t[e[E+M+o[T+v]]],F=t[e[E+1+o[T+1]]],y=.5-g*g-u*u;y<0?c=0:(y*=y,c=y*y*($[0]*g+$[1]*u));let b=.5-C*C-L*L;b<0?p=0:(b*=b,p=b*b*(W[0]*C+W[1]*L));let w=.5-D*D-B*B;return w<0?x=0:(w*=w,x=w*w*(F[0]*D+F[1]*B)),70*(c+p+x)}return{noise2D:d}})();function H(t,r,o,e=1){return`hsla(${t}, ${r}%, ${o}%, ${e})`}function m(){let t=f();return n.theme=t?"dark":"light",t?{aurora:[{h:210,s:70,l:46,a:.14},{h:260,s:75,l:50,a:.12},{h:190,s:65,l:46,a:.1},{h:160,s:60,l:46,a:.08}],star:"rgba(148,163,184,0.8)",link:"rgba(148,163,184,",orb:"rgba(99,102,241,"}:{aurora:[{h:220,s:80,l:62,a:.1},{h:265,s:78,l:60,a:.09},{h:200,s:72,l:60,a:.08},{h:160,s:65,l:62,a:.06}],star:"rgba(100,116,139,0.8)",link:"rgba(100,116,139,",orb:"rgba(59,130,246,"}}function I(){let t=document.getElementById("bg-aurora");t||(t=document.createElement("canvas"),t.id="bg-aurora",t.style.position="fixed",t.style.inset="0",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.zIndex="10",document.body.appendChild(t)),n.canvas=t,n.ctx=t.getContext("2d"),k();try{n.__loggedOnce||(console.log("[particles] canvas ready",{clientWidth:n.canvas.clientWidth,clientHeight:n.canvas.clientHeight,width:n.canvas.width,height:n.canvas.height,dpr:n.dpr}),n.__loggedOnce=!0)}catch{}}function k(){if(!n.canvas)return;n.width=n.canvas.clientWidth,n.height=n.canvas.clientHeight,n.canvas.width=Math.floor(n.width*n.dpr),n.canvas.height=Math.floor(n.height*n.dpr),n.ctx.setTransform(n.dpr,0,0,n.dpr,0,0);let t=n.width*n.height,r=Math.max(.6,Math.min(1.2,t/(1440*900))),o=Math.floor(h.starsBase*r),e=Math.floor(h.orbsBase*r);R(o),_(e),P()}function P(){let t=m(),r=[],o=Math.max(1,Math.min(h.maxAuroraBands,n.reduced?1:3));for(let e=0;e<o;e++){let i=t.aurora[e%t.aurora.length];r.push({speed:45e-5+e*22e-5,amp:60+e*20,freq:.0012+e*5e-4,offset:Math.random()*1e3,color:i})}n.bands=r}function R(t){n.stars=Array.from({length:t}).map(()=>({x:Math.random()*n.width,y:Math.random()*n.height,r:Math.random()*1.4+.4}))}function _(t){n.orbs=Array.from({length:t}).map(()=>({x:Math.random()*n.width,y:Math.random()*n.height,r:Math.random()*10+8,vx:(Math.random()-.5)*.08,vy:(Math.random()-.5)*.08}))}function z(t,r){let o=m(),e=t.createLinearGradient(0,0,0,n.height);e.addColorStop(0,f()?`rgba(2,6,23,${h.fogAlphaDark})`:`rgba(248,250,252,${h.fogAlphaLight})`),e.addColorStop(1,"transparent");for(let i=0;i<n.bands.length;i++){let s=n.bands[i];t.beginPath();let d=n.height*(.35+i*.12);for(let l=0;l<=n.width;l+=12){let c=G.noise2D(l*s.freq,r*s.speed+s.offset),p=d+Math.sin(l*s.freq*2+r*s.speed*3)*(s.amp*.3)+c*s.amp;t.lineTo(l,p)}t.lineTo(n.width,n.height),t.lineTo(0,n.height),t.closePath();let a=s.color;t.fillStyle=H(a.h,a.s,a.l,a.a),t.fill(),t.fillStyle=e,t.fill()}}function U(t){let r=m();t.save(),t.globalCompositeOperation="lighter",t.fillStyle=r.star;for(let o of n.stars)t.beginPath(),t.arc(o.x,o.y,o.r,0,Math.PI*2),t.fill();if(h.enableLinks)for(let o=0;o<n.stars.length;o++)for(let e=o+1;e<n.stars.length;e++){let i=n.stars[o],s=n.stars[e],d=i.x-s.x,a=i.y-s.y,l=d*d+a*a;if(l<h.linkDist*h.linkDist*.7){let c=1-l/(h.linkDist*h.linkDist*.7);t.strokeStyle=m().link+(f()?.16*c:.1*c)+")",t.lineWidth=1,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(s.x,s.y),t.stroke()}}t.restore()}function X(t,r){let o=m();for(let e of n.orbs){e.x+=e.vx,e.y+=e.vy,e.x<-50&&(e.x=n.width+50),e.x>n.width+50&&(e.x=-50),e.y<-50&&(e.y=n.height+50),e.y>n.height+50&&(e.y=-50);let i=(n.mouse.x-.5)*h.parallax,s=(n.mouse.y-.5)*h.parallax,d=t.createRadialGradient(e.x+i,e.y+s,0,e.x+i,e.y+s,e.r),a=f()?.18:.14;d.addColorStop(0,o.orb+a+")"),d.addColorStop(1,o.orb+"0)"),t.fillStyle=d,t.beginPath(),t.arc(e.x+i,e.y+s,e.r,0,Math.PI*2),t.fill()}}function j(){if(!n.running)return;let t=n.ctx;n.t+=n.reduced?.2:.6,t.clearRect(0,0,n.width,n.height),t.fillStyle=f()?"rgba(2,6,23,0.60)":"rgba(241,245,249,0.50)",t.fillRect(0,0,n.width,n.height),z(t,n.t*.0015),U(t),X(t,n.t*.001),requestAnimationFrame(j)}function Y(){n.running||(n.running=!0,I(),k(),j())}function J(){let t=f()?"dark":"light";t!==n.theme&&(P(),n.theme=t)}window.addEventListener("resize",k),window.addEventListener("mousemove",t=>{n.mouse.x=t.clientX/Math.max(1,window.innerWidth),n.mouse.y=t.clientY/Math.max(1,window.innerHeight)}),document.addEventListener("themechange",J),document.addEventListener("DOMContentLoaded",()=>{Y()})})();})();
