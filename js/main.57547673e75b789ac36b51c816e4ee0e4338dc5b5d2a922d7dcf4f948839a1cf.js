(()=>{var r=class{constructor(){this.init()}init(){this.setupEventListeners()}setupDropdown(e){let o=`.dropdown-toggle[data-dropdown-type="${e}"]`,t=`.dropdown-menu[data-dropdown-type="${e}"]`,n=document.querySelectorAll(o),s=document.querySelectorAll(t);n.forEach((l,u)=>{let d=s[u]||s[0];l&&d&&l.addEventListener("click",p=>{p.stopPropagation(),this.closeOtherMenus(e),document.querySelectorAll(t).forEach(i=>{if(i!==d){i.classList.add("hidden");let a=document.querySelector(`${o}[aria-labelledby="${i.getAttribute("aria-labelledby")}"], ${o}[aria-controls="${i.id}"]`);a&&a.setAttribute("aria-expanded","false")}});let w=d.classList.contains("hidden");d.classList.toggle("hidden"),l.setAttribute("aria-expanded",w?"true":"false"),e==="mobile-menu"&&this.handleMobileMenuClick(d,l)})})}closeOtherMenus(e){["color-scheme","theme","language","mobile-menu"].forEach(t=>{t!==e&&document.querySelectorAll(`.dropdown-menu[data-dropdown-type="${t}"]`).forEach(n=>{n.classList.add("hidden");let s=document.querySelector(`.dropdown-toggle[data-dropdown-type="${t}"]`);s&&s.setAttribute("aria-expanded","false")})})}closeAllDropdowns(){document.querySelectorAll(".dropdown-menu").forEach(e=>{e.classList.add("hidden");let o=e.getAttribute("data-dropdown-type");if(o){let t=document.querySelector(`.dropdown-toggle[data-dropdown-type="${o}"]`);t&&t.setAttribute("aria-expanded","false")}})}closeAllMenus(){this.closeAllDropdowns()}handleMobileMenuClick(e,o){e.addEventListener("click",t=>{t.target.closest("a[href]")&&setTimeout(()=>{e.classList.add("hidden"),o.setAttribute("aria-expanded","false")},100)})}setupEventListeners(){this.setupDropdown("mobile-menu"),this.setupDropdown("color-scheme"),this.setupDropdown("theme"),this.setupDropdown("language"),document.addEventListener("click",e=>{e.target.closest(".dropdown-toggle, .dropdown-menu")||this.closeAllMenus()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.closeAllMenus()})}};document.addEventListener("DOMContentLoaded",()=>{new r;let c=24,e=()=>{window.scrollY>c?document.body.classList.add("is-scrolled"):document.body.classList.remove("is-scrolled")};e(),window.addEventListener("scroll",()=>{window.requestAnimationFrame(e)},{passive:!0})});console.log("\u7B80\u5316\u7684UI\u7BA1\u7406\u5668\u5DF2\u52A0\u8F7D");})();
